<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dog Regression Archetype Quiz</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #2C3E50;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .quiz-header {
            background: white;
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .quiz-header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #2E5BBA;
        }

        .quiz-header p {
            font-size: 1.2em;
            color: #666;
            margin-bottom: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .progress-fill {
            height: 100%;
            background: #4CAF50;
            width: 0%;
            transition: width 0.3s ease;
        }

        .question-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            display: none;
        }

        .question-card.active {
            display: block;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .question-title {
            font-size: 1.4em;
            font-weight: 600;
            margin-bottom: 20px;
            color: #2E5BBA;
        }

        .question-number {
            background: #2E5BBA;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
        }

        .answer-options {
            list-style: none;
        }

        .answer-option {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 15px 20px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .answer-option:hover {
            border-color: #2E5BBA;
            background: #e3f2fd;
        }

        .answer-option.selected {
            border-color: #4CAF50;
            background: #e8f5e8;
        }

        .answer-option input[type="radio"] {
            display: none;
        }

        .answer-option label {
            cursor: pointer;
            width: 100%;
            display: block;
            font-weight: 500;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
        }

        .btn {
            background: #2E5BBA;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn:hover {
            background: #1e3f8f;
            transform: translateY(-2px);
        }

        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: #6c757d;
        }

        .btn-secondary:hover {
            background: #545b62;
        }

        .results-section {
            display: none;
            text-align: center;
        }

        .archetype-result {
            background: white;
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .archetype-icon {
            font-size: 4em;
            margin-bottom: 20px;
        }

        .archetype-title {
            font-size: 2.2em;
            color: #2E5BBA;
            margin-bottom: 15px;
        }

        .archetype-description {
            font-size: 1.2em;
            color: #666;
            margin-bottom: 30px;
            line-height: 1.8;
        }

        .cta-button {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 18px 40px;
            border-radius: 30px;
            font-size: 1.3em;
            font-weight: 700;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(76, 175, 80, 0.4);
        }

        .question-counter {
            color: #666;
            font-weight: 500;
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .quiz-header {
                padding: 25px;
            }
            
            .quiz-header h1 {
                font-size: 2em;
            }
            
            .question-card {
                padding: 20px;
            }
            
            .answer-option {
                padding: 12px 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="quiz-header">
            <h1>üêï Discover Your Dog's Regression Archetype</h1>
            <p>Get your personalized reset plan in just 3 minutes</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
            <div class="question-counter">
                <span id="currentQuestion">1</span> of <span id="totalQuestions">12</span>
            </div>
        </div>

        <form id="personalityQuiz">
            <!-- Question 1 -->
            <div class="question-card active" data-question="1">
                <div class="question-title">
                    <span class="question-number">1</span>
                    When did you first notice your dog's behavior regression?
                </div>
                <ul class="answer-options">
                    <li class="answer-option">
                        <input type="radio" name="q1" value="A" id="q1a">
                        <label for="q1a">Within the last 2 weeks</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q1" value="B" id="q1b">
                        <label for="q1b">1-2 months ago</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q1" value="C" id="q1c">
                        <label for="q1c">3-6 months ago</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q1" value="D" id="q1d">
                        <label for="q1d">Over 6 months ago, gradually getting worse</label>
                    </li>
                </ul>
            </div>

            <!-- Question 2 -->
            <div class="question-card" data-question="2">
                <div class="question-title">
                    <span class="question-number">2</span>
                    What situation triggers your dog's worst regression behaviors?
                </div>
                <ul class="answer-options">
                    <li class="answer-option">
                        <input type="radio" name="q2" value="A" id="q2a">
                        <label for="q2a">Being left alone or separated from family</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q2" value="B" id="q2b">
                        <label for="q2b">Exciting situations (guests, doorbell, walks, other dogs)</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q2" value="C" id="q2c">
                        <label for="q2c">When they think you're not actively watching them</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q2" value="D" id="q2d">
                        <label for="q2d">Changes in routine, environment, or schedule</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q2" value="E" id="q2e">
                        <label for="q2e">During training sessions or when given commands</label>
                    </li>
                </ul>
            </div>

            <!-- Question 3 -->
            <div class="question-card" data-question="3">
                <div class="question-title">
                    <span class="question-number">3</span>
                    When you give a command they definitely used to know, your dog typically...
                </div>
                <ul class="answer-options">
                    <li class="answer-option">
                        <input type="radio" name="q3" value="A" id="q3a">
                        <label for="q3a">Looks at you but pretends not to understand</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q3" value="B" id="q3b">
                        <label for="q3b">Acts like they didn't hear you at all</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q3" value="C" id="q3c">
                        <label for="q3c">Starts to obey but gets distracted halfway through</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q3" value="D" id="q3d">
                        <label for="q3d">Seems confused, anxious, or unsure what you want</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q3" value="E" id="q3e">
                        <label for="q3e">Obeys only when they're in the mood</label>
                    </li>
                </ul>
            </div>

            <!-- Question 4 -->
            <div class="question-card" data-question="4">
                <div class="question-title">
                    <span class="question-number">4</span>
                    Compared to before the regression, your dog's energy level is...
                </div>
                <ul class="answer-options">
                    <li class="answer-option">
                        <input type="radio" name="q4" value="A" id="q4a">
                        <label for="q4a">Much higher - can't settle down, always "on"</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q4" value="B" id="q4b">
                        <label for="q4b">Much lower - seems depressed, lethargic, withdrawn</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q4" value="C" id="q4c">
                        <label for="q4c">About the same, just channeled into wrong behaviors</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q4" value="D" id="q4d">
                        <label for="q4d">Unpredictable - high anxiety energy then crashes</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q4" value="E" id="q4e">
                        <label for="q4e">Normal energy but seems frustrated or restless</label>
                    </li>
                </ul>
            </div>

            <!-- Question 5 -->
            <div class="question-card" data-question="5">
                <div class="question-title">
                    <span class="question-number">5</span>
                    When visitors come to your home, your dog...
                </div>
                <ul class="answer-options">
                    <li class="answer-option">
                        <input type="radio" name="q5" value="A" id="q5a">
                        <label for="q5a">Hides, trembles, or seems overwhelmed by the social situation</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q5" value="B" id="q5b">
                        <label for="q5b">Goes absolutely crazy with excitement and can't calm down</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q5" value="C" id="q5c">
                        <label for="q5c">Ignores all your commands to settle or behave appropriately</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q5" value="D" id="q5d">
                        <label for="q5d">Seems disinterested, sad, or socially withdrawn</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q5" value="E" id="q5e">
                        <label for="q5e">Tests boundaries they normally respect (jumping, begging, etc.)</label>
                    </li>
                </ul>
            </div>

            <!-- Question 6 -->
            <div class="question-card" data-question="6">
                <div class="question-title">
                    <span class="question-number">6</span>
                    When left alone for 2+ hours, your dog...
                </div>
                <ul class="answer-options">
                    <li class="answer-option">
                        <input type="radio" name="q6" value="A" id="q6a">
                        <label for="q6a">Becomes destructive, has accidents, or shows clear distress</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q6" value="B" id="q6b">
                        <label for="q6b">Seems totally fine - no issues or changes</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q6" value="C" id="q6c">
                        <label for="q6c">Is unpredictable - sometimes fine, sometimes chaotic</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q6" value="D" id="q6d">
                        <label for="q6d">Shows signs of depression or disengagement</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q6" value="E" id="q6e">
                        <label for="q6e">Gets into trouble they normally wouldn't (counter surfing, etc.)</label>
                    </li>
                </ul>
            </div>

            <!-- Question 7 -->
            <div class="question-card" data-question="7">
                <div class="question-title">
                    <span class="question-number">7</span>
                    Before the regression, your dog's training response was...
                </div>
                <ul class="answer-options">
                    <li class="answer-option">
                        <input type="radio" name="q7" value="A" id="q7a">
                        <label for="q7a">Excellent - they were a model student who loved learning</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q7" value="B" id="q7b">
                        <label for="q7b">Good but inconsistent depending on our household routine</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q7" value="C" id="q7c">
                        <label for="q7c">Solid basic obedience that worked reliably</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q7" value="D" id="q7d">
                        <label for="q7d">Great until they became more sensitive to our emotions</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q7" value="E" id="q7e">
                        <label for="q7e">Perfect until they hit adolescence/maturity</label>
                    </li>
                </ul>
            </div>

            <!-- Question 8 -->
            <div class="question-card" data-question="8">
                <div class="question-title">
                    <span class="question-number">8</span>
                    Over the past 6 months, your household stress level has been...
                </div>
                <ul class="answer-options">
                    <li class="answer-option">
                        <input type="radio" name="q8" value="A" id="q8a">
                        <label for="q8a">Very high - major life changes, moves, new baby, job changes</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q8" value="B" id="q8b">
                        <label for="q8b">Moderately high - busy schedules, routine changes</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q8" value="C" id="q8c">
                        <label for="q8c">Normal family stress - nothing unusual</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q8" value="D" id="q8d">
                        <label for="q8d">Lower than usual - quieter household, less activity</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q8" value="E" id="q8e">
                        <label for="q8e">Inconsistent - some very stressful periods, some calm</label>
                    </li>
                </ul>
            </div>

            <!-- Question 9 -->
            <div class="question-card" data-question="9">
                <div class="question-title">
                    <span class="question-number">9</span>
                    When your dog misbehaves during regression, you typically...
                </div>
                <ul class="answer-options">
                    <li class="answer-option">
                        <input type="radio" name="q9" value="A" id="q9a">
                        <label for="q9a">Get frustrated and your voice gets louder or sharper</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q9" value="B" id="q9b">
                        <label for="q9b">Try to negotiate or reason with them like a human</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q9" value="C" id="q9c">
                        <label for="q9c">Feel guilty and end up giving treats or affection after correcting</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q9" value="D" id="q9d">
                        <label for="q9d">Give up and walk away, hoping the behavior stops</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q9" value="E" id="q9e">
                        <label for="q9e">Repeat the same command multiple times, getting firmer each time</label>
                    </li>
                </ul>
            </div>

            <!-- Question 10 -->
            <div class="question-card" data-question="10">
                <div class="question-title">
                    <span class="question-number">10</span>
                    Your dog's attention-seeking behavior has...
                </div>
                <ul class="answer-options">
                    <li class="answer-option">
                        <input type="radio" name="q10" value="A" id="q10a">
                        <label for="q10a">Increased dramatically - constant pawing, whining, following</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q10" value="B" id="q10b">
                        <label for="q10b">Become more intense and harder to ignore</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q10" value="C" id="q10c">
                        <label for="q10c">Stayed the same but they're more selective about when they listen</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q10" value="D" id="q10d">
                        <label for="q10d">Decreased - they seem less interested in interaction</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q10" value="E" id="q10e">
                        <label for="q10e">Become more demanding and pushy</label>
                    </li>
                </ul>
            </div>

            <!-- Question 11 -->
            <div class="question-card" data-question="11">
                <div class="question-title">
                    <span class="question-number">11</span>
                    Your dog's need to be physically close to you has...
                </div>
                <ul class="answer-options">
                    <li class="answer-option">
                        <input type="radio" name="q11" value="A" id="q11a">
                        <label for="q11a">Increased significantly - they follow you everywhere</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q11" value="B" id="q11b">
                        <label for="q11b">Stayed high but they can't settle when close</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q11" value="C" id="q11c">
                        <label for="q11c">Become more on their terms - close when they want, distant when they don't</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q11" value="D" id="q11d">
                        <label for="q11d">Decreased - they seem more withdrawn or independent</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q11" value="E" id="q11e">
                        <label for="q11e">Become clingy only during certain times (storms, stress, etc.)</label>
                    </li>
                </ul>
            </div>

            <!-- Question 12 -->
            <div class="question-card" data-question="12">
                <div class="question-title">
                    <span class="question-number">12</span>
                    Your biggest worry about this regression is...
                </div>
                <ul class="answer-options">
                    <li class="answer-option">
                        <input type="radio" name="q12" value="A" id="q12a">
                        <label for="q12a">My dog seems genuinely stressed, anxious, or unhappy</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q12" value="B" id="q12b">
                        <label for="q12b">They're becoming impossible to manage in daily life</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q12" value="C" id="q12c">
                        <label for="q12c">We're losing the close bond and trust we used to have</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q12" value="D" id="q12d">
                        <label for="q12d">They're too smart and are manipulating or outsmarting me</label>
                    </li>
                    <li class="answer-option">
                        <input type="radio" name="q12" value="E" id="q12e">
                        <label for="q12e">It feels like they've completely forgotten their training</label>
                    </li>
                </ul>
            </div>

            <div class="navigation">
                <button type="button" class="btn btn-secondary" id="prevBtn" onclick="changeQuestion(-1)">Previous</button>
                <button type="button" class="btn" id="nextBtn" onclick="changeQuestion(1)">Next</button>
                <button type="button" class="btn" id="submitBtn" onclick="calculateResults()" style="display: none;">Get My Results</button>
            </div>
        </form>

        <div class="results-section" id="resultsSection">
            <div class="archetype-result" id="archetypeResult">
                <!-- Results will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <script>
        let currentQ = 1;
        const totalQuestions = 12;
        let answers = {};

        // Scoring system - each answer gets points for different archetypes
        const scoring = {
            q1: {
                A: { anxious: 1, overstimulated: 1 },
                B: { anxious: 1, defiant: 1, overstimulated: 1, lonely: 1, boundary: 1 },
                C: { defiant: 2, boundary: 1 },
                D: { anxious: 2, lonely: 1 }
            },
            q2: {
                A: { anxious: 3, lonely: 1 },
                B: { overstimulated: 3 },
                C: { boundary: 3 },
                D: { anxious: 2, lonely: 1 },
                E: { defiant: 3, boundary: 1 }
            },
            q3: {
                A: { defiant: 2, boundary: 1 },
                B: { boundary: 2, overstimulated: 1 },
                C: { overstimulated: 3 },
                D: { anxious: 3 },
                E: { defiant: 3, boundary: 1 }
            },
            q4: {
                A: { overstimulated: 3, defiant: 1 },
                B: { lonely: 3, anxious: 1 },
                C: { boundary: 2, defiant: 1 },
                D: { anxious: 2, overstimulated: 1 },
                E: { defiant: 1, boundary: 2 }
            },
            q5: {
                A: { anxious: 3 },
                B: { overstimulated: 3 },
                C: { defiant: 2, boundary: 1 },
                D: { lonely: 3 },
                E: { boundary: 3 }
            },
            q6: {
                A: { anxious: 3, lonely: 1 },
                B: { defiant: 1, boundary: 2 },
                C: { overstimulated: 2, anxious: 1 },
                D: { lonely: 3, anxious: 1 },
                E: { boundary: 2, defiant: 1 }
            },
            q7: {
                A: { anxious: 1, defiant: 1, overstimulated: 1, lonely: 1, boundary: 1 },
                B: { boundary: 2, defiant: 1 },
                C: { anxious: 1, defiant: 1, overstimulated: 1, lonely: 1, boundary: 1 },
                D: { anxious: 2, lonely: 1 },
                E: { defiant: 3 }
            },
            q8: {
                A: { anxious: 2, lonely: 1 },
                B: { anxious: 1, overstimulated: 2 },
                C: { defiant: 1, boundary: 2 },
                D: { lonely: 2, boundary: 1 },
                E: { overstimulated: 1, anxious: 1 }
            },
            q9: {
                A: { anxious: 1, overstimulated: 1 },
                B: { boundary: 2, defiant: 1 },
                C: { anxious: 1, lonely: 1 },
                D: { lonely: 1, boundary: 2 },
                E: { overstimulated: 1, defiant: 2 }
            },
            q10: {
                A: { anxious: 3 },
                B: { overstimulated: 2, defiant: 1 },
                C: { boundary: 3 },
                D: { lonely: 3 },
                E: { defiant: 2, boundary: 1 }
            },
            q11: {
                A: { anxious: 3 },
                B: { overstimulated: 2 },
                C: { boundary: 2, defiant: 1 },
                D: { lonely: 3 },
                E: { anxious: 1, overstimulated: 1 }
            },
            q12: {
                A: { anxious: 2, lonely: 1 },
                B: { overstimulated: 2, defiant: 1 },
                C: { lonely: 2, anxious: 1 },
                D: { boundary: 3 },
                E: { defiant: 2, boundary: 1 }
            }
        };

        // Your actual Notion page URLs
        const notionPages = {
            anxious: "https://peat-tungsten-805.notion.site/The-Anxious-Clinger-Reset-Plan-24490269eba28046ba36e193c299d7bc?source=copy_link",
            defiant: "https://peat-tungsten-805.notion.site/THE-DEFIANT-TEENAGER-24490269eba2804082abc1fac25d3ce5?source=copy_link", 
            overstimulated: "https://peat-tungsten-805.notion.site/THE-OVERSTIMULATED-SHADOW-24490269eba280d3af61d5a8f663866e?source=copy_link",
            lonely: "https://peat-tungsten-805.notion.site/THE-LONELY-REGRESSOR-24490269eba280389492d2d23ed11fe4?source=copy_link",
            boundary: "https://peat-tungsten-805.notion.site/THE-BOUNDARY-TESTER-24490269eba280d5bb2cfbfd36d0e735?source=copy_link"
        };

        // Archetype descriptions
        const archetypes = {
            anxious: {
                title: "The Anxious Clinger",
                icon: "ü´Ç",
                description: "Your once-independent dog now follows you everywhere and has lost their emotional regulation. They're seeking constant reassurance and have become overwhelmed by normal daily changes.",
                timeline: "14-21 days with gentle confidence building"
            },
            defiant: {
                title: "The Defiant Teenager", 
                icon: "üò§",
                description: "Your dog has developed 'selective hearing' and is testing boundaries they once respected. They're going through a normal developmental phase where they question the rules.",
                timeline: "7-14 days with consistent leadership"
            },
            overstimulated: {
                title: "The Overstimulated Shadow",
                icon: "‚ö°", 
                description: "Your dog goes from 0-100 instantly and has lost their ability to self-regulate. They've become overwhelmed by normal stimuli and can't find their 'off switch.'",
                timeline: "18-21 days with impulse control rebuilding"
            },
            lonely: {
                title: "The Lonely Regressor",
                icon: "üíî",
                description: "Your once social dog has become withdrawn or desperately attention-seeking. They're grieving some form of loss and trying to reconnect with their family.",
                timeline: "14-18 days with intentional bonding"
            },
            boundary: {
                title: "The Boundary Tester",
                icon: "üéØ",
                description: "Your intelligent dog has figured out when rules apply and when they don't. They're strategically testing to see what they can get away with.",
                timeline: "10-16 days with consistent enforcement"
            }
        };

        function updateProgress() {
            const progress = (currentQ / totalQuestions) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQ;
        }

        function changeQuestion(direction) {
            const currentCard = document.querySelector(`.question-card[data-question="${currentQ}"]`);
            
            if (direction === 1) {
                // Moving forward - check if answer is selected
                const selectedAnswer = document.querySelector(`input[name="q${currentQ}"]:checked`);
                if (!selectedAnswer) {
                    alert('Please select an answer before continuing.');
                    return;
                }
                answers[`q${currentQ}`] = selectedAnswer.value;
            }

            currentCard.classList.remove('active');
            
            currentQ += direction;
            
            if (currentQ < 1) currentQ = 1;
            if (currentQ > totalQuestions) currentQ = totalQuestions;
            
            const nextCard = document.querySelector(`.question-card[data-question="${currentQ}"]`);
            if (nextCard) {
                nextCard.classList.add('active');
            }
            
            updateProgress();
            updateNavigation();
        }

        function updateNavigation() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const submitBtn = document.getElementById('submitBtn');
            
            prevBtn.style.display = currentQ === 1 ? 'none' : 'block';
            
            if (currentQ === totalQuestions) {
                nextBtn.style.display = 'none';
                submitBtn.style.display = 'block';
            } else {
                nextBtn.style.display = 'block';
                submitBtn.style.display = 'none';
            }
        }

        function calculateResults() {
            // Check if final question is answered
            const finalAnswer = document.querySelector(`input[name="q${currentQ}"]:checked`);
            if (!finalAnswer) {
                alert('Please select an answer before getting your results.');
                return;
            }
            answers[`q${currentQ}`] = finalAnswer.value;

            // Calculate scores for each archetype
            const scores = {
                anxious: 0,
                defiant: 0,
                overstimulated: 0,
                lonely: 0,
                boundary: 0
            };

            // Add up points for each archetype based on answers
            for (let question in answers) {
                const answer = answers[question];
                const questionScores = scoring[question][answer];
                
                for (let archetype in questionScores) {
                    scores[archetype] += questionScores[archetype];
                }
            }

            // Find the highest scoring archetype
            let highestScore = 0;
            let resultArchetype = 'anxious';
            
            for (let archetype in scores) {
                if (scores[archetype] > highestScore) {
                    highestScore = scores[archetype];
                    resultArchetype = archetype;
                }
            }

            // Display results
            displayResults(resultArchetype);
        }

        function displayResults(archetype) {
            const quizForm = document.getElementById('personalityQuiz');
            const resultsSection = document.getElementById('resultsSection');
            const resultDiv = document.getElementById('archetypeResult');
            
            const result = archetypes[archetype];
            const notionUrl = notionPages[archetype];
            
            resultDiv.innerHTML = `
                <div class="archetype-icon">${result.icon}</div>
                <h2 class="archetype-title">${result.title}</h2>
                <p class="archetype-description">${result.description}</p>
                <p style="margin-bottom: 30px; font-weight: 600; color: #4CAF50;">
                    Expected Reset Timeline: ${result.timeline}
                </p>
                <a href="${notionUrl}" target="_blank" class="cta-button">
                    üìã Get Your Complete Reset Plan
                </a>
                <p style="margin-top: 20px; font-size: 0.9em; color: #666;">
                    Your personalized plan includes daily protocols, command priorities, and troubleshooting guides specifically designed for ${result.title.toLowerCase()}s.
                </p>
            `;
            
            quizForm.style.display = 'none';
            resultsSection.style.display = 'block';
            
            // Scroll to results
            resultsSection.scrollIntoView({ behavior: 'smooth' });
        }

        // Handle answer selection
        document.addEventListener('click', function(e) {
            if (e.target.tagName === 'LABEL' || e.target.closest('.answer-option')) {
                const option = e.target.closest('.answer-option');
                const radio = option.querySelector('input[type="radio"]');
                
                // Remove selected class from all options in this question
                const allOptions = option.closest('.answer-options').querySelectorAll('.answer-option');
                allOptions.forEach(opt => opt.classList.remove('selected'));
                
                // Add selected class to clicked option
                option.classList.add('selected');
                radio.checked = true;
            }
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateProgress();
            updateNavigation();
            document.getElementById('totalQuestions').textContent = totalQuestions;
        });

        // Allow Enter key to advance
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                if (currentQ < totalQuestions) {
                    changeQuestion(1);
                } else {
                    calculateResults();
                }
            }
        });
    </script>
</body>
</html>
            